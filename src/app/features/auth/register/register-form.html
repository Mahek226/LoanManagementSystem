      <!-- Application Form -->
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="application-form">
        
        <!-- Personal Details Card -->
        <div class="form-card">
          <div class="card-header">
            <h3 class="card-title">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
              </svg>
              Personal Details
            </h3>
            <p class="card-subtitle">Please provide your personal information</p>
          </div>
          
          <div class="card-body">
            <div class="form-grid">
              <!-- First Name -->
              <div class="form-field">
                <label for="firstName" class="field-label">First Name *</label>
                <input
                  type="text"
                  id="firstName"
                  formControlName="firstName"
                  class="field-input"
                  [class.error]="submitted && f['firstName'].errors"
                  placeholder="Enter first name"
                />
                <div *ngIf="submitted && f['firstName'].errors" class="field-error">
                  <span *ngIf="f['firstName'].errors['required']">First name is required</span>
                </div>
              </div>

              <!-- Last Name -->
              <div class="form-field">
                <label for="lastName" class="field-label">Last Name *</label>
                <input
                  type="text"
                  id="lastName"
                  formControlName="lastName"
                  class="field-input"
                  [class.error]="submitted && f['lastName'].errors"
                  placeholder="Enter last name"
                />
                <div *ngIf="submitted && f['lastName'].errors" class="field-error">
                  <span *ngIf="f['lastName'].errors['required']">Last name is required</span>
                </div>
              </div>

              <!-- Email -->
              <div class="form-field">
                <label for="email" class="field-label">Email Address *</label>
                <input
                  type="email"
                  id="email"
                  formControlName="email"
                  class="field-input"
                  [class.error]="submitted && f['email'].errors"
                  placeholder="Enter email address"
                />
                <div *ngIf="submitted && f['email'].errors" class="field-error">
                  <span *ngIf="f['email'].errors['required']">Email is required</span>
                  <span *ngIf="f['email'].errors['email']">Please enter a valid email</span>
                </div>
              </div>

              <!-- Phone -->
              <div class="form-field">
                <label for="phoneNumber" class="field-label">Phone Number *</label>
                <input
                  type="tel"
                  id="phoneNumber"
                  formControlName="phoneNumber"
                  class="field-input"
                  [class.error]="submitted && f['phoneNumber'].errors"
                  placeholder="Enter phone number"
                />
                <div *ngIf="submitted && f['phoneNumber'].errors" class="field-error">
                  <span *ngIf="f['phoneNumber'].errors['required']">Phone number is required</span>
                </div>
              </div>

              <!-- Gender -->
              <div class="form-field">
                <label for="gender" class="field-label">Gender *</label>
                <select
                  id="gender"
                  formControlName="gender"
                  class="field-input"
                  [class.error]="submitted && f['gender'].errors"
                >
                  <option value="">Select Gender</option>
                  <option value="MALE">Male</option>
                  <option value="FEMALE">Female</option>
                  <option value="OTHER">Other</option>
                </select>
                <div *ngIf="submitted && f['gender'].errors" class="field-error">
                  <span *ngIf="f['gender'].errors['required']">Gender is required</span>
                </div>
              </div>

              <!-- Username -->
              <div class="form-field">
                <label for="username" class="field-label">Username *</label>
                <input
                  type="text"
                  id="username"
                  formControlName="username"
                  class="field-input"
                  [class.error]="submitted && f['username'].errors"
                  placeholder="Choose username"
                />
                <div *ngIf="submitted && f['username'].errors" class="field-error">
                  <span *ngIf="f['username'].errors['required']">Username is required</span>
                  <span *ngIf="f['username'].errors['minlength']">Username must be at least 3 characters</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Address Details Card -->
        <div class="form-card">
          <div class="card-header">
            <h3 class="card-title">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                <circle cx="12" cy="10" r="3"></circle>
              </svg>
              Address Information
            </h3>
            <p class="card-subtitle">Your residential address details</p>
          </div>
          
          <div class="card-body">
            <div class="form-grid">
              <!-- Address -->
              <div class="form-field full-width">
                <label for="address" class="field-label">Street Address *</label>
                <input
                  type="text"
                  id="address"
                  formControlName="address"
                  class="field-input"
                  [class.error]="submitted && f['address'].errors"
                  placeholder="Enter street address"
                />
                <div *ngIf="submitted && f['address'].errors" class="field-error">
                  <span *ngIf="f['address'].errors['required']">Address is required</span>
                </div>
              </div>

              <!-- City -->
              <div class="form-field">
                <label for="city" class="field-label">City *</label>
                <input
                  type="text"
                  id="city"
                  formControlName="city"
                  class="field-input"
                  [class.error]="submitted && f['city'].errors"
                  placeholder="Enter city"
                />
                <div *ngIf="submitted && f['city'].errors" class="field-error">
                  <span *ngIf="f['city'].errors['required']">City is required</span>
                </div>
              </div>

              <!-- State -->
              <div class="form-field">
                <label for="state" class="field-label">State *</label>
                <input
                  type="text"
                  id="state"
                  formControlName="state"
                  class="field-input"
                  [class.error]="submitted && f['state'].errors"
                  placeholder="Enter state"
                />
                <div *ngIf="submitted && f['state'].errors" class="field-error">
                  <span *ngIf="f['state'].errors['required']">State is required</span>
                </div>
              </div>

              <!-- Country -->
              <div class="form-field">
                <label for="country" class="field-label">Country *</label>
                <input
                  type="text"
                  id="country"
                  formControlName="country"
                  class="field-input"
                  [class.error]="submitted && f['country'].errors"
                  placeholder="Enter country"
                />
                <div *ngIf="submitted && f['country'].errors" class="field-error">
                  <span *ngIf="f['country'].errors['required']">Country is required</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Security Details Card -->
        <div class="form-card">
          <div class="card-header">
            <h3 class="card-title">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
              </svg>
              Security Information
            </h3>
            <p class="card-subtitle">Create a secure password for your account</p>
          </div>
          
          <div class="card-body">
            <div class="form-grid">
              <!-- Password -->
              <div class="form-field">
                <label for="password" class="field-label">Password *</label>
                <input
                  type="password"
                  id="password"
                  formControlName="password"
                  class="field-input"
                  [class.error]="submitted && f['password'].errors"
                  placeholder="Create password"
                />
                <div *ngIf="submitted && f['password'].errors" class="field-error">
                  <span *ngIf="f['password'].errors['required']">Password is required</span>
                  <span *ngIf="f['password'].errors['minlength']">Password must be at least 6 characters</span>
                </div>
              </div>

              <!-- Confirm Password -->
              <div class="form-field">
                <label for="confirmPassword" class="field-label">Confirm Password *</label>
                <input
                  type="password"
                  id="confirmPassword"
                  formControlName="confirmPassword"
                  class="field-input"
                  [class.error]="submitted && f['confirmPassword'].errors"
                  placeholder="Confirm password"
                />
                <div *ngIf="submitted && f['confirmPassword'].errors" class="field-error">
                  <span *ngIf="f['confirmPassword'].errors['required']">Please confirm password</span>
                  <span *ngIf="f['confirmPassword'].errors['passwordMismatch']">Passwords do not match</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Terms and Submit -->
        <div class="form-actions">
          <div class="terms-section">
            <label class="checkbox-wrapper">
              <input type="checkbox" class="checkbox-input" required>
              <span class="checkbox-custom"></span>
              <span class="checkbox-text">
                I agree to the <a href="#" class="terms-link">Terms of Service</a> and 
                <a href="#" class="terms-link">Privacy Policy</a>
              </span>
            </label>
          </div>

          <button 
            type="submit" 
            class="submit-button"
            [disabled]="loading"
          >
            <span *ngIf="!loading">Submit Application</span>
            <span *ngIf="loading" class="loading-content">
              <svg class="spinner" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 12a9 9 0 11-6.219-8.56"/>
              </svg>
              Processing...
            </span>
          </button>

          <div class="login-redirect">
            <p>Already have an account? <a [routerLink]="['/auth/login']" class="login-link">Sign In</a></p>
          </div>
        </div>
      </form>
    </div>
  </div>

  <!-- Footer -->
  <div class="page-footer">
    <div class="footer-content">
      <p>&copy; 2025 FraudShield Loan Management System. All rights reserved.</p>
      <div class="footer-links">
        <a href="#">Privacy Policy</a>
        <a href="#">Terms of Service</a>
        <a href="#">Support</a>
      </div>
    </div>
  </div>
</div>
