# Enhanced Loan Scoring Configuration
loan:
  scoring:
    # Maximum possible scores for normalization
    internal:
      max-score: 200  # Maximum possible internal fraud score
      weight: 0.6     # 60% weight for internal scoring
    external:
      max-score: 150  # Maximum possible external fraud score
      weight: 0.4     # 40% weight for external scoring
    
    # Risk level thresholds (based on normalized score 0-100)
    thresholds:
      critical: 80    # >= 80% = CRITICAL
      high: 60        # >= 60% = HIGH
      medium: 35      # >= 35% = MEDIUM
      low: 15         # >= 15% = LOW
                      # < 15% = CLEAN
    
    # Recommendation thresholds
    recommendations:
      reject-threshold: 60      # >= 60% = REJECT
      review-threshold: 35      # >= 35% = REVIEW
                               # < 35% = APPROVE
  
  # Officer authority thresholds
  risk-score:
    threshold: 70  # Officers can only approve/reject if score < 70%

# Enhanced fraud detection settings
enhanced-fraud:
  enabled: true
  
  # Internal fraud detection weights
  internal-weights:
    identity: 0.25      # 25% weight for identity fraud
    financial: 0.35     # 35% weight for financial fraud
    employment: 0.25    # 25% weight for employment fraud
    cross-verification: 0.15  # 15% weight for cross-verification
  
  # External fraud detection settings
  external:
    timeout-ms: 30000   # 30 second timeout for external calls
    retry-attempts: 3   # Number of retry attempts
    fallback-score: 50  # Default score if external service fails
    
    # External database priorities
    database-weights:
      criminal-records: 0.4    # 40% weight for criminal record checks
      loan-history: 0.3        # 30% weight for loan history
      bank-records: 0.2        # 20% weight for bank record verification
      document-verification: 0.1  # 10% weight for document verification

# Logging configuration for enhanced scoring
logging:
  level:
    com.tss.springsecurity.service.EnhancedLoanScreeningService: DEBUG
    com.tss.springsecurity.controller.EnhancedLoanScreeningController: DEBUG
    com.tss.springsecurity.externalfraud: INFO
    com.tss.springsecurity.fraud: INFO
